{"version":3,"sources":["components/SearchForm.js","components/MainNav.js","components/photos/Photo.js","components/NotFound.js","components/photos/PhotoContainer.js","components/Error.js","components/App.js","data/config.js","index.js"],"names":["SearchForm","state","searchText","onSearchChange","e","setState","target","value","handleSubmit","preventDefault","props","setLoading","onSearch","query","history","push","currentTarget","reset","className","onSubmit","this","type","onChange","name","ref","input","placeholder","required","fill","height","viewBox","width","xmlns","d","Component","withRouter","MainNav","generateNavButtons","buttons","defaults","i","length","key","to","Photo","id","farm","server","secret","src","alt","NotFound","PhotoContainer","getPhotos","data","map","photo","getText","match","params","item","url","replace","loading","Error","APIkey","App","componentDidMount","defaultSets","performSearch","preLoad","fetchURL","axios","get","then","response","savePhotos","photos","catch","error","console","log","defaultPhotos","generateDefaultRoutes","routes","sets","exact","path","render","createBrowserHistory","forceRefresh","component","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.377bab07.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport {\n\twithRouter\n} from 'react-router-dom';\n\nclass SearchForm extends Component {\n   \n    state = {\n        searchText: ''\n    }\n    \n    onSearchChange = e => {\n        this.setState({ searchText: e.target.value });\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        this.props.setLoading();\n        this.props.onSearch(this.query.value, false);\n        this.props.history.push(`/search/${this.query.value}`);\n        e.currentTarget.reset();\n    }\n    \n    render() {\n       return(\n            <form className=\"search-form\" onSubmit={this.handleSubmit}>\n                <input type=\"search\"\n                    onChange={this.onSearchChange}\n                    name=\"search\"\n                    ref={(input) => this.query = input}\n                    placeholder=\"Search\" required\n                />\n                <button type=\"submit\" className=\"search-button\">\n                <svg fill=\"#fff\" height=\"24\" viewBox=\"0 0 23 23\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\n                    <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n                </svg>\n                </button>\n            </form>\n\n        )\n    }\n}\n\nexport default withRouter(SearchForm);","import React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\n\nclass MainNav extends Component{\n\n    \n    generateNavButtons = () => {\n        let buttons = [];\n        const { defaults } = this.props;\n        for (let i = 0; i < defaults.length; i++) {\n            buttons.push(\n                <li key={i+200}>\n                    <NavLink \n                    key={i+300}\n                    to={`/${defaults[i]}`} \n                    >{defaults[i]}\n                    </NavLink>\n                </li>\n            )\n        }\n        return buttons;\n    }\n\n\n    render() {\n        return (\n            <nav className=\"main-nav\">\n            <ul>\n                {this.generateNavButtons()}\n            </ul>\n        </nav>\n        )\n    }\n}\n\nexport default MainNav;","import React from 'react';\n\nconst Photo = ({ id, farm, server, secret }) => {\n\n    return (\n        <li>\n            <img src={`https://farm${farm}.staticflickr.com/${server}/${id}_${secret}.jpg`} alt=\"\" />\n        </li>\n    )\n}\n\nexport default Photo;","import React from 'react';\n\nconst NotFound = () => (\n  <li className=\"not-found\">\n    <h3>No Results Found</h3>\n    <p>You search did not return any results. Please try again.</p>\n  </li>\n)\n\nexport default NotFound;","import React, { Component } from 'react';\n\nimport Photo from './Photo';\nimport NotFound from '../NotFound';\n\nclass PhotoContainer extends Component {\n\n    \n    getPhotos = () => {\n        const { data } = this.props;\n        let photos;\n\n        if (data && data.length > 0 ) {\n            photos = data.map(photo => \n                <Photo \n                    key={photo.id}\n                    id={photo.id}\n                    secret={photo.secret}\n                    server={photo.server}\n                    farm={photo.farm}\n                />\n            );\n        } else {\n            return (\n                <NotFound />\n            )\n        }\n        return photos;\n    }\n    \n    getText = () =>{\n        const { match } = this.props;\n        let infoText = '';\n\n        if (match.params.item) {\n            infoText = `${match.params.item} Results`;\n        } else {\n            infoText = `${match.url.replace('/', '')} Results`;\n        }\n        return infoText; \n    }\n\n    render() {\n        const { loading } = this.props;\n\n        return (\n            <div className=\"photo-container\">\n                <h2>{this.getText()}</h2>\n                {\n                    (loading)\n                    ? <h2>Loading...</h2>\n                    : <ul>{this.getPhotos()}</ul>\n                }\n            </div>\n        )\n    }\n}\n\nexport default PhotoContainer;","import React from 'react';\n\nconst Error = () => (\n    <li className=\"error\">\n    <h3>Error</h3>\n    <p>Page was not found</p>\n  </li>\n)\n\nexport default Error;","import React, { Component } from 'react';\nimport {\n  HashRouter,\n  Route,\n  Switch,\n} from 'react-router-dom';\n// import createHistory from \"history/createBrowserHistory\";\nimport { createBrowserHistory } from 'history';\nimport axios from 'axios';\n\n// App components\nimport SearchForm from './SearchForm';\nimport MainNav from './MainNav';\nimport PhotoContainer from './photos/PhotoContainer';\nimport Error from './Error';\n\n// flickr API key\n/** to run app, create a config.js file under the /src/data folder\n *  Paste in code below and your API key into config file:\n *    const apiKey = 'YOUR API KEY';\n *    export default apiKey;\n */\nimport apiKey from '../data/config';\nconst APIkey = apiKey;\n\nexport default class App extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      photos: [],\n      defaultPhotos: {},\n      defaultSets: [ 'Cats', 'Dogs', 'Birds', 'Cars', 'Lizards'],\n      loading: true\n    };\n  } \n\n  componentDidMount = () => {\n    const defaults = this.state.defaultSets;\n\n    this.performSearch();\n\n    for (let i = 0; i < defaults.length; i++) {\n      this.performSearch(defaults[i], true);\n    }\n\n  }\n\n  setLoading = () => {\n    this.setState({ loading: true });\n  }\n\n  /** fetch from flickr */\n  // preLoad loads fetch data into photo state array\n  performSearch = (query = 'sunsets', preLoad = false) => {\n    const fetchURL = `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=${APIkey}&tags=${query}&per_page=24&format=json&nojsoncallback=1`;\n    axios.get(fetchURL)\n      .then(response => {\n        if (!preLoad) {\n          this.setState({\n            photos: response.data.photos.photo,\n            loading: false\n          });\n        } else {\n          this.savePhotos(query, response.data.photos.photo);\n        }\n      })\n      .catch(error => {\n        console.log('Error fetching and parsing data', error);\n      });\n  }\n\n  /** savePhotos into default photos array */\n  // loads photo data for Main Nav buttons\n  savePhotos = (query, data) => {\n    this.setState({\n      loading: false,\n      defaultPhotos: {\n        ...this.state.defaultPhotos,\n        [`${query}`]: data\n      }\n    });\n  }\n  \n  /** generates photo routes for Main Nav buttons */\n  generateDefaultRoutes = () => {\n    let routes = [];\n    const sets = this.state.defaultSets;\n    const photos = this.state.defaultPhotos;\n    const loading = this.state.loading;\n    for (let i = 0; i < sets.length; i++) {\n      routes.push(\n        <Route \n          key={i}\n          exact path={`/${sets[i]}`} \n          render={ (props) => \n            <PhotoContainer \n              {...props}\n              key={i+100}\n              data={photos[`${sets[i]}`]}\n              loading={loading}\n              />} \n        />\n      )\n    }\n    return routes;\n  }\n\n  render() {\n    const history = createBrowserHistory();\n    \n    return (\n      <HashRouter forceRefresh={true}>\n        <div className=\"container\">\n          <SearchForm onSearch={this.performSearch} setLoading={this.setLoading} history={history}/>\n          <MainNav defaults={this.state.defaultSets} />\n          <Switch>\n            <Route exact path='/' render={ (props) => <PhotoContainer {...props} data={this.state.photos} loading={this.state.loading}/>} />\n            {this.generateDefaultRoutes()}\n            <Route path='/search/:item' render={ (props) => <PhotoContainer {...props} data={this.state.photos} loading={this.state.loading}/>} />\n            <Route component={Error}/>\n          </Switch>\n        </div>\n      </HashRouter>\n    );\n  }\n}\n","const apiKey = 'ba7fa8a7f6a23ce26792977a1a708d2e';\n// const secret = '4e3146b60a0b333a';\n\nexport default apiKey;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './components/App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}